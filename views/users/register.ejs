<% layout("./layouts/boilerplate.ejs") %>
<%- include("../layouts/partials/error-flash.ejs") %>
<div class="row">
  <div class="card rounded bg-light shadow col-10 offset-1 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4">
    <form action="/users/register" method="POST" class="validation pb-4 pt-3 px-3" novalidate>
      <h1 class="text-center mb-3">Registration</h1>
      <div class="mb-3">
        <label for="email" class="form-label">Email:</label>
        <input type="email" class="form-control" id="email" placeholder="example@email.com" name="user[email]" autocomplete="off" required value="<%= tempData && tempData.email ? tempData.email : null %>"">
        <div class=" valid-feedback">
          OK!
        </div>
        <div class="invalid-feedback">
          Please enter your email.
        </div>
      </div>
      <div class="mb-3">
        <label for="username" class="form-label">Username:</label>
        <input type="text" class="form-control" id="username" placeholder="Username" name="user[username]" required value="<%= tempData && tempData.username ? tempData.username : null %>">
        <div class="valid-feedback">
          OK!
        </div>
        <div class="invalid-feedback">
          Please enter your username.
        </div>
      </div>
      <div class="mb-4">
        <label for="password" class="form-label">Password:</label>
        <input type="password" class="form-control" id="password" placeholder="Password" name="user[password]" required>
        <div class="invalid-feedback">
          Please enter your password.
        </div>
        <div class="valid-feedback">
          OK!
        </div>

      </div>
      <div class="mb-4">
        <label for="confirm_password" class="form-label">Confirm Password:</label>
        <input type="password" class="form-control" id="confirm_password" placeholder="Confirm your password" name="user[repeat_password]" required>
        <div class="invalid-feedback">
          Please confirm your password.
        </div>
        <div class="valid-feedback">
          OK!
        </div>

      </div>
      <div>
        <div class="form-check">
          <label class="form-check-label" for="terms">
            I accept Terms and Conditions
          </label>
          <input class="form-check-input" type="checkbox" id="terms">
        </div>
        <div class="d-grid gap-2 col-6 mx-auto">
          <input type="hidden" name="_csrf" value="<%= csrfToken %>">
          <button type="submit" class="btn btn-lg btn-success mt-4">Submit</button>
        </div>
      </div>
  </form>
</div>
</div>

<% tempData && delete tempData %>
